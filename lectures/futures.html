<!doctype html>
<html lang="en">
<!-- This is a generated file. Do not edit. -->

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Lecture slides for GIS/MEA582</title>

        <meta name="description" content="Lecture slides for NCSU GIS714: Geospatial Simulations">
        <meta name="author" content="Helena Mitasova and NCSU GeoForAll Lab">

        <link rel="shortcut icon" href="../img/favicon.ico" />

        <link rel="stylesheet" href="dist/reset.css">
        <link rel="stylesheet" href="dist/reveal.css">
        <link rel="stylesheet" href="dist/theme/ncsugeoforall.css" id="theme">
        <link rel="stylesheet" href="css/nouislider.min.css" id="slide">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
        <!-- For chalkboard plugin -->
        <link rel="stylesheet" href="plugin/chalkboard/style.css">
        <link rel="stylesheet" href="plugin/customcontrols/style.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <script>
            if( window.location.search.match( /print-pdf/gi ) ) {
                var link = document.createElement( 'link' );
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = 'css/print/pdf.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
            }
        </script>

        <style>
        body {
        /*background-color: #FFF !important;*/
        /*
          background-image: url("pictures/elevation-nagshead.gif");
          background-repeat: no-repeat;
          background-position: left bottom;*/
        }
        .reveal section img {
            background: transparent;
            border: 0;
            box-shadow: 0 0 0 rgba(0, 0, 0, 0.15);
        }
        /* for standalone frame */
        /*
        iframe {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        */
        /* display: inline; background-color: #002B36; padding: 0px; margin: 0px */
        .rounded-corners {
            border: 0px solid black;
            border-radius: 5px;
            -moz-border-radius: 5px;
            -khtml-border-radius: 5px;
            -webkit-border-radius: 5px;
        }
        a {
            color: #060 !important;
        }
        a:hover {
            color: #060 !important;
            text-decoration: underline !important;
        }
        h1, h2, h3, h4, h5 {
            text-transform: none !important;
            /* word-break: keep-all; text-transform: none; font-size: 200%; line-height: 110%; */
            color: #060 !important;
            /* color: #444 !important; */ /* grey from the wab page */
            font-weight: bold !important;
            -webkit-hyphens: none !important;
            -moz-hyphens: none !important;
            -ms-hyphens: none !important;
            hyphens: none !important;
            line-height: 110% !important;
        }
        .reveal .progress span {
            background-color: #060 !important;
        }
        /* predefined element positioning */
        .top {
            /*position: relative;*/
            top: 5%;
            height: 45%; /* is the height even needed? */
        }
        .bottom {
            height: 45%;
        }
        .ne {
            position: absolute;
            top: 5%;
            right: 5%;
            height: 45%;
            width: 45%;
        }
        .nw {
            position: absolute;
            top: 5%;
            left: 5%;
            height: 45%;
            width: 45%;
        }
        .se {
            position: absolute;
            bottom: 5%;
            right: 5%;
            height: 45%;
            width: 45%;
        }
        .sw {
            position: absolute;
            bottom: 5%;
            left: 5%;
            height: 45%;
            width: 45%;
        }

        /* classes for sections with predefined elements */
        /* using !important because, reveal styles are applied afterwards  */
        .right, .textimg > img, .textimg > video, .textimg > iframe, .imgtext > p, .imgtext > ul, .imgtext > ol, .imgtext > div {
            float: right;
            text-align: left;
            max-width: 47% !important;
        }
        .left, .imgtext > img, .imgtext > video, imgtext > iframe, .textimg > p, .textimg > ul, .textimg > ol, .textimg > div {
            float: left;
            text-align: left;
            max-width: 47% !important;
        }
        li > ul, li > ol {
            font-size: 85% !important;
            line-height: 110% !important;
        }
        .small {
            font-size: smaller !important;
            color: gray;
            margin: 0.1em !important;
        }
        .credit {
            font-size: small !important;
            color: gray;
            margin: 0.1em !important;
        }
        .corner-buttons {
            display: inline-block;
            position: absolute;
            right: 30px;
            bottom: 30px;
            top: auto;
            left: auto;
            z-index: 30;
            font-size: medium !important;
        }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
<section>
    <h2><b>FUTURES</b></h2>
    <h4><strong>FUT</strong>ure <strong>U</strong>rban-<strong>R</strong>egional
         <strong>E</strong>nvironment <strong>S</strong>imulation</h4>
    <p style="margin-top: 0.5em">
        Anna Petrasova, Vaclav Petras</p>
    <p class="title-foot">
        GIS714 Geosimulations
        <a href="http://www.ncsu.edu/" title="North Carolina State University">NCSU</a>
    </p>
</section>

<section>
<h3>FUTURES</h3>
(Meentemeyer et al., 2013)</p>
<div class="left" style="max-width: 65% !important">
<ul>
<li>urban growth model</li>
<li>patch-based</li>
<li>stochastic</li>
<li>accounts for location, quantity, and pattern of change</li>
<li>positive feedbacks (new development attracts more development)</li>
<li>allows spatial non-stationarity</li>
</ul>
</div>

<img src="img/urban/cool_futures.png"  class="right" style="max-width: 33% !important">
</section>

<section>
<h3>FUTURES, A Simplified View</h3>
<em>turning green cells into orange cells</em>
<br>
<img class="stretch" src="img/urban/r_futures_detail.png">
<p><small>
-1: undeveloped, 0: initial development, 1: developed in the first year, &hellip;
</small></p>
</section>

<section>
<h3>Modeling framework</h3>
<img style="margin-top:2em;margin-left:5em; max-width: 58% !important;"
 src="img/urban/FUTURES_schema.png">
<aside class="notes">
This is a basic schema of FUTURES, where the modeling framework is
based on 3 components: POTENTIAL submodel providing the information
where will urbanization likely happen, the DEMAND specifies how much
land will be developed and the third component PGA (meaning Patch Growing Algorithm)
is the actual engine of FUTURES, growing the patches of calibrated size and shape.
</aside>
</section>



<section class="textimg">
<h3>Demand submodel</h3>
<ul>
<li>estimates the rate of per capita land consumption for
each subregion</li>
<li>extrapolates between historical changes in population and land conversion</li>
<li>inputs are historical landuse, population data, population projection</li>
</ul>
<img src="img/urban/r_futures_demand_plot_logarithmic.png">
</section>

<section>
<h3>Demand scenarios</h3>
<div class="left" style="max-width: 65% !important">
<center>
<img width="32%" src="img/urban/r_futures_demand_plot_exponential.png">
<img width="32%" src="img/urban/r_futures_demand_plot_linear.png">
<img width="32%" src="img/urban/r_futures_demand_plot_logarithmic.png">
<img width="32%" src="img/urban/r_futures_demand_plot_logarithmic2.png">
<img width="32%" src="img/urban/r_futures_demand_plot_exp_approach.png">
</center>
</div>
<div class="right" style="font-size:70%; max-width: 30% !important">
$$
y = Ae^{BX} \\
y = A + Bx \\
y = A + B ln(x) \\
y = A + B ln(x - C) \\
y = (1 - e^{-A(x - B)}) + C
$$
</div>
</section>

<section>
<h3>Demand: population decline</h3>
<div class="left" style="max-width: 35% !important">
<center>
<img src="img/urban/r_futures_demand_negative.png">
</center>
</div>
<div class="right" style="max-width: 63% !important">
<ul>
    <li>demand submodel designed for regions with population growth</li>
    <li>FUTURES doesn't simulate cell de-conversion: here it would simulate zero new cell conversions</li>
    <li>even with population decline, impervious areas can increase</li>
</ul>
</div>
</section>


<section>
<h3>Potential submodel</h3>
<ul>
<li>multilevel logistic regression for development suitability
accounts for variation among subregions (for example policies
in different counties)</li>
<li>inputs are uncorrelated predictors (distance to roads and development, slope, ...)</li>
</ul>
<br>
<img src="img/urban/r_futures_potsurface.png" class="stretch">
<p style="font-size:70%">surface: potential, orange: developed areas, green: undeveloped areas
</section>


<section>
<h3>Potential submodel</h3>
<div class="left" style="max-width: 50% !important">
$$
p_i = \frac{e^{s_i}}{1 + e^{s_i}}
$$

$p_i$ is development probability for cell i,<br>
$s_i$ is development potential for cell i
</div>
<div class="right" style="max-width: 48% !important">
$$
s_i = a_{j,i} + \sum_{h=1}^{n} \beta_{j, i, h} \, x_{i, h}
$$
$j$ is the level (e.g. counties),<br>
$h$ is a predictor,<br>
$n$ is the number of predictor variables, <br>
$a_{j,i}$ is intercept, <br>
$\beta_{j, i, h}$ is regression coefficient, <br>
$x_{ih}$ is the value of h at i

</div>
</section>

<section>
<h3>Potential submodel: workflow</h3>
<ol>
    <li>stratified random sampling of predictors and response variable (developed/undeveloped raster)</li>
    <li><code>glm(developed ~ (1|subregion) + distance_to_water + development_pressure + road_density + ...)</code></li>
    <ul><li>using automatic selection based on AIC</li></ul>
    <li>create probability surface from regression coefficients</li>
</ol>
</section>

<section>
<h3>Potential submodel: notes</h3>
    <ul>
        <li>predictors and coefficients do not change during simulation (except for development pressure)</li>
        <li>avoid multicollinearity</li>
    </ul>
</section>

<section>
<h3>Development pressure</h3>
<ul>
    <li>Predictor based on number of neighboring developed cells within search distance, weighted by distance.</li>
    <li>Allows for a feedback between predicted change and change in subsequent steps.</li>
    </ul>
$$pressure = \sum^{n_i}_{k=1} \frac{state_k} {d^{\gamma}_{ik}}$$
<br>
<small>
         where $state_k$ indicates whether $k$th neighboring cell is 1 or 0 (developed or undeveloped) <br>
          $d_{ik}$ is distance between current cell $i$ and neighboring cell $k$ <br>
           and $\gamma$ controls the influence of distance between neighboring cells</small>
</section>

<section>
<h3>Development pressure</h3>
<img src="img/urban/r_futures_devpressure_3D.png" class="stretch">
</section>



<section class="textimg">
<h3>Patch Growing Algorithm</h3>
<ul>
<li>stochastic algorithm</li>
<li>converts land in discrete patches</li>
<li>inputs are patch characteristics (distribution of patch sizes and compactness)
derived from historical data</li>
</ul>
<img src="img/urban/PGA.gif">
</section>

<section>
<h3>Patch Growing Algorithm</h3>
<ol>
    <li class="fragment">pick randomly a seed cell $i$</li>
    <li class="fragment">seed is established if $p_i$ &gt; random number</li>
    <li class="fragment">randomly pick patch size</li>
    <li class="fragment">grow patch</li>
        <ol>
            <li class="fragment">add neighbors to a list and sort it based on $p_i / d^c$, where $d$ is distance from $i$ and $c$ is compactness value</li>
            <li class="fragment">pick first neighboring cell and try to add it to the patch if $p_i$ &gt; random number</li>
            <li class="fragment">if added, add surrounding neighboring cells to the list</li>
            <li class="fragment">repeat until the patch size is met</li>
        </ol>
    <li class="fragment">recompute development pressure</li>
</ol>
</section>

<section class="textimg">
<h3>Patch Compactness</h3>
<div>
    Low
<img src="img/urban/compactness_low.png">
</div>
<div>
    High
<img src="img/urban/compactness_high.png">
</div>
</section>

<section>
<h3>Scenarios: Incentive power</h3>
<img width="20%" src="img/urban/incentive.png"><br>
<img src="img/urban/r_futures_scenario_infill.png">
<img src="img/urban/r_futures_scenario_status_quo.png">
<img src="img/urban/r_futures_scenario_sprawl.png">
</section>

<section>
    <h3>Scenarios</h3>
<em>Constraint</em> parameter: zones with decreased probability of development
$$P_{new} = P . C, \quad C \in \langle 0, 1\rangle $$

<br>
<em>Stimulus</em> parameter: zones with increased probability of development
$$P_{new} = P + S - P.S, \quad S \in \langle 0, 1 \rangle$$
</section>


<section>
<h3>r.futures</h3>
Information flow diagram for the set of modules implementing FUTURES
<img src="img/urban/grass_futures_diagram.png" class="stretch">
<p><small>
Additionally, <em>r.futures.parallelpga</em> can be used instead of <em>r.futures.pga</em>.
</small></p>
</section>
<!-- This is a generated file. Do not edit. -->

</div>
        </div>

        <!-- The home/index/parent button -->
        <div class="corner-buttons">
            <!-- &#x1f3e0; -->
            <a class="parent-page" href="../index.html" title="Go to the course page">&#8962;</a>
        </div>

        <script src="dist/reveal.js"></script>
        <script src="plugin/notes/notes.js"></script>
        <script src="plugin/markdown/markdown.js"></script>
        <script src="plugin/highlight/highlight.js"></script>
        <script src="plugin/math/math.js"></script>
        <script src="plugin/chalkboard/plugin.js"></script>
        <script src="plugin/customcontrols/plugin.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                hash: true,
                // Display controls in the bottom right corner
                controls: false,

                // Display a presentation progress bar
                progress: true,
                
                center: true,
                
                // Display the page number of the current slide
                slideNumber: false,

                // Enable the slide overview mode
                overview: true,

                // Turns fragments on and off globally
                fragments: true,

                // The "normal" size of the presentation, aspect ratio will be preserved
                // when the presentation is scaled to fit different resolutions. Can be
                // specified using percentage units.
                // width: 960,
                // height: 700,
                
                // Factor of the display size that should remain empty around the content
                margin: 0.05,  // increase?

                // Bounds for smallest/largest possible scale to apply to content
                minScale: 0.5,
                maxScale: 5.0,

                // Push each slide change to the browser history
                history: true,
                // Enable keyboard shortcuts for navigation
                keyboard: true,

                // Vertical centering of slides
                center: true,

                // Enables touch navigation on devices with touch input
                touch: true,

                // Loop the presentation
                loop: false,
                // Flags if the presentation is running in an embedded mode,
                // i.e. contained within a limited portion of the screen
                embedded: false,

                // Number of milliseconds between automatically proceeding to the
                // next slide, disabled when set to 0, this value can be overwritten
                // by using a data-autoslide attribute on your slides
                autoSlide: 0,

                // Stop auto-sliding after user input
                autoSlideStoppable: true,

                // Enable slide navigation via mouse wheel
                mouseWheel: false,

                // Hides the address bar on mobile devices
                hideAddressBar: true,

                // Opens links in an iframe preview overlay
                previewLinks: false,

                // Slide transition
                transition: 'none', // default/none/slide/concave/convex/zoom

                // Transition speed
                transitionSpeed: 'default', // default/fast/slow

                // Transition style for full page slide backgrounds
                backgroundTransition: 'none', // default/none/slide/concave/convex/zoom

                // Number of slides away from the current that are visible
                viewDistance: 3,

                // Parallax background image
                //parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

                // Parallax background size
                //parallaxBackgroundSize: '' // CSS syntax, e.g. "2100px 900px"


                math: {
                    mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
                    config: 'TeX-AMS_HTML-full',
                    // pass other options into `MathJax.Hub.Config()`
                    TeX: { Macros: { RR: "{\\bf R}" } }
                },

                plugins: [
                    RevealMath,
                    RevealHighlight,
                    RevealMarkdown,
                    RevealChalkboard,
                    RevealCustomControls
                ],

                customcontrols: {
                    controls: [
                        { icon: '<i class="fa fa-pen-square"></i>',
                        title: 'Toggle chalkboard (B)',
                        action: 'RevealChalkboard.toggleChalkboard();'
                        },
                        { icon: '<i class="fa fa-pen"></i>',
                        title: 'Toggle notes canvas (C)',
                        action: 'RevealChalkboard.toggleNotesCanvas();'
                        }
                    ]
                },
            });
        </script>
        <script src="js/jquery-3.4.1.min.js"></script>
        <script src="js/nouislider.min.js"></script>
        <script src="js/slideranim.js"></script>
    </body>
</html>
